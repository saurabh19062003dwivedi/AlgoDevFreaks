{"ast":null,"code":"import { toast } from \"react-hot-toast\";\nimport { setUser } from \"../../slices/profileSlice\";\nimport { apiConnector } from \"../apiconnector\";\nimport { settingsEndpoints } from \"../apis\";\nimport { logout } from \"./authAPI\";\nconst {\n  UPDATE_DISPLAY_PICTURE_API,\n  UPDATE_PROFILE_API,\n  CHANGE_PASSWORD_API,\n  DELETE_PROFILE_API\n} = settingsEndpoints;\nexport function updateDisplayPicture(token, formData) {\n  return async dispatch => {\n    const toastId = toast.loading(\"Loading...\");\n    try {\n      const response = await apiConnector(\"PUT\", UPDATE_DISPLAY_PICTURE_API, formData, {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: `Bearer ${token}`\n      });\n      console.log(\"UPDATE_DISPLAY_PICTURE_API API RESPONSE............\", response);\n      if (!response.success) {\n        throw new Error(response.message);\n      }\n      toast.success(\"Display Picture Updated Successfully\");\n      dispatch(setUser(response));\n    } catch (error) {\n      console.log(\"UPDATE_DISPLAY_PICTURE_API API ERROR............\", error);\n      toast.error(\"Could Not Update Display Picture\");\n    }\n    toast.dismiss(toastId);\n  };\n}\nexport function updateProfile(token, formData) {\n  return async dispatch => {\n    const toastId = toast.loading(\"Loading...\");\n    try {\n      const response = await apiConnector(\"PUT\", UPDATE_PROFILE_API, formData, {\n        Authorization: `Bearer ${token}`\n      });\n      console.log(\"UPDATE_PROFILE_API API RESPONSE............\", response);\n      if (!response.success) {\n        throw new Error(response.message);\n      }\n      const userImage = response.data.updatedUserDetails.image ? response.datupdatedUserDetails.image : `http://api.dicebear.com/5.x/initials/svg?seed=${response.updatedUserDetails.firstName} ${response.updatedUserDetails.lastName}`;\n      dispatch(setUser({\n        ...response.updatedUserDetails,\n        image: userImage\n      }));\n      toast.success(\"Profile Updated Successfully\");\n    } catch (error) {\n      console.log(\"UPDATE_PROFILE_API API ERROR............\", error);\n      toast.error(\"Could Not Update Profile\");\n    }\n    toast.dismiss(toastId);\n  };\n}\nexport async function changePassword(token, formData) {\n  const toastId = toast.loading(\"Loading...\");\n  try {\n    const response = await apiConnector(\"POST\", CHANGE_PASSWORD_API, formData, {\n      Authorization: `Bearer ${token}`\n    });\n    console.log(\"CHANGE_PASSWORD_API API RESPONSE............\", response);\n    if (!response.success) {\n      throw new Error(response.message);\n    }\n    toast.success(\"Password Changed Successfully\");\n  } catch (error) {\n    console.log(\"CHANGE_PASSWORD_API API ERROR............\", error);\n    toast.error(error.response.message);\n  }\n  toast.dismiss(toastId);\n}\nexport function deleteProfile(token, navigate) {\n  return async dispatch => {\n    const toastId = toast.loading(\"Loading...\");\n    try {\n      const response = await apiConnector(\"DELETE\", DELETE_PROFILE_API, null, {\n        Authorization: `Bearer ${token}`\n      });\n      console.log(\"DELETE_PROFILE_API API RESPONSE............\", response);\n      if (!response.success) {\n        throw new Error(response.message);\n      }\n      toast.success(\"Profile Deleted Successfully\");\n      dispatch(logout(navigate));\n    } catch (error) {\n      console.log(\"DELETE_PROFILE_API API ERROR............\", error);\n      toast.error(\"Could Not Delete Profile\");\n    }\n    toast.dismiss(toastId);\n  };\n}","map":{"version":3,"names":["toast","setUser","apiConnector","settingsEndpoints","logout","UPDATE_DISPLAY_PICTURE_API","UPDATE_PROFILE_API","CHANGE_PASSWORD_API","DELETE_PROFILE_API","updateDisplayPicture","token","formData","dispatch","toastId","loading","response","Authorization","console","log","success","Error","message","error","dismiss","updateProfile","userImage","data","updatedUserDetails","image","datupdatedUserDetails","firstName","lastName","changePassword","deleteProfile","navigate"],"sources":["C:/Users/saura/Desktop/StudyNotion-An-Online-Education-Platform-master/src/services/operations/SettingsAPI.js"],"sourcesContent":["import { toast } from \"react-hot-toast\"\n\nimport { setUser } from \"../../slices/profileSlice\"\nimport { apiConnector } from \"../apiconnector\"\nimport { settingsEndpoints } from \"../apis\"\nimport { logout } from \"./authAPI\"\n\nconst {\n  UPDATE_DISPLAY_PICTURE_API,\n  UPDATE_PROFILE_API,\n  CHANGE_PASSWORD_API,\n  DELETE_PROFILE_API,\n} = settingsEndpoints\n\nexport function updateDisplayPicture(token, formData) {\n  return async (dispatch) => {\n    const toastId = toast.loading(\"Loading...\")\n    try {\n      const response = await apiConnector(\n        \"PUT\",\n        UPDATE_DISPLAY_PICTURE_API,\n        formData,\n        {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${token}`,\n        }\n      )\n      console.log(\n        \"UPDATE_DISPLAY_PICTURE_API API RESPONSE............\",\n        response\n      )\n\n      if (!response.success) {\n        throw new Error(response.message)\n      }\n      toast.success(\"Display Picture Updated Successfully\")\n      dispatch(setUser(response))\n    } catch (error) {\n      console.log(\"UPDATE_DISPLAY_PICTURE_API API ERROR............\", error)\n      toast.error(\"Could Not Update Display Picture\")\n    }\n    toast.dismiss(toastId)\n  }\n}\n\nexport function updateProfile(token, formData) {\n  return async (dispatch) => {\n    const toastId = toast.loading(\"Loading...\")\n    try {\n      const response = await apiConnector(\"PUT\", UPDATE_PROFILE_API, formData, {\n        Authorization: `Bearer ${token}`,\n      })\n      console.log(\"UPDATE_PROFILE_API API RESPONSE............\", response)\n\n      if (!response.success) {\n        throw new Error(response.message)\n      }\n      const userImage = response.data.updatedUserDetails.image\n        ? response.datupdatedUserDetails.image\n        : `http://api.dicebear.com/5.x/initials/svg?seed=${response.updatedUserDetails.firstName} ${response.updatedUserDetails.lastName}`\n      dispatch(\n        setUser({ ...response.updatedUserDetails, image: userImage })\n      )\n      toast.success(\"Profile Updated Successfully\")\n    } catch (error) {\n      console.log(\"UPDATE_PROFILE_API API ERROR............\", error)\n      toast.error(\"Could Not Update Profile\")\n    }\n    toast.dismiss(toastId)\n  }\n}\n\nexport async function changePassword(token, formData) {\n  const toastId = toast.loading(\"Loading...\")\n  try {\n    const response = await apiConnector(\"POST\", CHANGE_PASSWORD_API, formData, {\n      Authorization: `Bearer ${token}`,\n    })\n    console.log(\"CHANGE_PASSWORD_API API RESPONSE............\", response)\n\n    if (!response.success) {\n      throw new Error(response.message)\n    }\n    toast.success(\"Password Changed Successfully\")\n  } catch (error) {\n    console.log(\"CHANGE_PASSWORD_API API ERROR............\", error)\n    toast.error(error.response.message)\n  }\n  toast.dismiss(toastId)\n}\n\nexport function deleteProfile(token, navigate) {\n  return async (dispatch) => {\n    const toastId = toast.loading(\"Loading...\")\n    try {\n      const response = await apiConnector(\"DELETE\", DELETE_PROFILE_API, null, {\n        Authorization: `Bearer ${token}`,\n      })\n      console.log(\"DELETE_PROFILE_API API RESPONSE............\", response)\n\n      if (!response.success) {\n        throw new Error(response.message)\n      }\n      toast.success(\"Profile Deleted Successfully\")\n      dispatch(logout(navigate))\n    } catch (error) {\n      console.log(\"DELETE_PROFILE_API API ERROR............\", error)\n      toast.error(\"Could Not Delete Profile\")\n    }\n    toast.dismiss(toastId)\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}