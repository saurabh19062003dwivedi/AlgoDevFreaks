{"ast":null,"code":"import { visit } from 'unist-util-visit';\n\n/**\r\n * @typedef {import('unist').Node} Node\r\n * @typedef {import('hast').Root} Root\r\n * @typedef {import('hast').Element} Element\r\n *\r\n * @callback AllowElement\r\n * @param {Element} element\r\n * @param {number} index\r\n * @param {Element|Root} parent\r\n * @returns {boolean|undefined}\r\n *\r\n * @typedef Options\r\n * @property {Array<string>} [allowedElements]\r\n * @property {Array<string>} [disallowedElements=[]]\r\n * @property {AllowElement} [allowElement]\r\n * @property {boolean} [unwrapDisallowed=false]\r\n */\n\n/**\r\n * @type {import('unified').Plugin<[Options], Root>}\r\n */\nexport default function rehypeFilter(options) {\n  if (options.allowedElements && options.disallowedElements) {\n    throw new TypeError('Only one of `allowedElements` and `disallowedElements` should be defined');\n  }\n  if (options.allowedElements || options.disallowedElements || options.allowElement) {\n    return tree => {\n      visit(tree, 'element', (node, index, parent_) => {\n        const parent = /** @type {Element|Root} */parent_;\n        /** @type {boolean|undefined} */\n        let remove;\n        if (options.allowedElements) {\n          remove = !options.allowedElements.includes(node.tagName);\n        } else if (options.disallowedElements) {\n          remove = options.disallowedElements.includes(node.tagName);\n        }\n        if (!remove && options.allowElement && typeof index === 'number') {\n          remove = !options.allowElement(node, index, parent);\n        }\n        if (remove && typeof index === 'number') {\n          if (options.unwrapDisallowed && node.children) {\n            parent.children.splice(index, 1, ...node.children);\n          } else {\n            parent.children.splice(index, 1);\n          }\n          return index;\n        }\n        return undefined;\n      });\n    };\n  }\n}","map":{"version":3,"names":["visit","rehypeFilter","options","allowedElements","disallowedElements","TypeError","allowElement","tree","node","index","parent_","parent","remove","includes","tagName","unwrapDisallowed","children","splice","undefined"],"sources":["C:/Users/saura/Desktop/AlgoDevFreaks/node_modules/react-markdown/lib/rehype-filter.js"],"sourcesContent":["import {visit} from 'unist-util-visit'\r\n\r\n/**\r\n * @typedef {import('unist').Node} Node\r\n * @typedef {import('hast').Root} Root\r\n * @typedef {import('hast').Element} Element\r\n *\r\n * @callback AllowElement\r\n * @param {Element} element\r\n * @param {number} index\r\n * @param {Element|Root} parent\r\n * @returns {boolean|undefined}\r\n *\r\n * @typedef Options\r\n * @property {Array<string>} [allowedElements]\r\n * @property {Array<string>} [disallowedElements=[]]\r\n * @property {AllowElement} [allowElement]\r\n * @property {boolean} [unwrapDisallowed=false]\r\n */\r\n\r\n/**\r\n * @type {import('unified').Plugin<[Options], Root>}\r\n */\r\nexport default function rehypeFilter(options) {\r\n  if (options.allowedElements && options.disallowedElements) {\r\n    throw new TypeError(\r\n      'Only one of `allowedElements` and `disallowedElements` should be defined'\r\n    )\r\n  }\r\n\r\n  if (\r\n    options.allowedElements ||\r\n    options.disallowedElements ||\r\n    options.allowElement\r\n  ) {\r\n    return (tree) => {\r\n      visit(tree, 'element', (node, index, parent_) => {\r\n        const parent = /** @type {Element|Root} */ (parent_)\r\n        /** @type {boolean|undefined} */\r\n        let remove\r\n\r\n        if (options.allowedElements) {\r\n          remove = !options.allowedElements.includes(node.tagName)\r\n        } else if (options.disallowedElements) {\r\n          remove = options.disallowedElements.includes(node.tagName)\r\n        }\r\n\r\n        if (!remove && options.allowElement && typeof index === 'number') {\r\n          remove = !options.allowElement(node, index, parent)\r\n        }\r\n\r\n        if (remove && typeof index === 'number') {\r\n          if (options.unwrapDisallowed && node.children) {\r\n            parent.children.splice(index, 1, ...node.children)\r\n          } else {\r\n            parent.children.splice(index, 1)\r\n          }\r\n\r\n          return index\r\n        }\r\n\r\n        return undefined\r\n      })\r\n    }\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAAQA,KAAK,QAAO,kBAAkB;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAASC,YAAYA,CAACC,OAAO,EAAE;EAC5C,IAAIA,OAAO,CAACC,eAAe,IAAID,OAAO,CAACE,kBAAkB,EAAE;IACzD,MAAM,IAAIC,SAAS,CACjB,0EACF,CAAC;EACH;EAEA,IACEH,OAAO,CAACC,eAAe,IACvBD,OAAO,CAACE,kBAAkB,IAC1BF,OAAO,CAACI,YAAY,EACpB;IACA,OAAQC,IAAI,IAAK;MACfP,KAAK,CAACO,IAAI,EAAE,SAAS,EAAE,CAACC,IAAI,EAAEC,KAAK,EAAEC,OAAO,KAAK;QAC/C,MAAMC,MAAM,GAAG,2BAA6BD,OAAQ;QACpD;QACA,IAAIE,MAAM;QAEV,IAAIV,OAAO,CAACC,eAAe,EAAE;UAC3BS,MAAM,GAAG,CAACV,OAAO,CAACC,eAAe,CAACU,QAAQ,CAACL,IAAI,CAACM,OAAO,CAAC;QAC1D,CAAC,MAAM,IAAIZ,OAAO,CAACE,kBAAkB,EAAE;UACrCQ,MAAM,GAAGV,OAAO,CAACE,kBAAkB,CAACS,QAAQ,CAACL,IAAI,CAACM,OAAO,CAAC;QAC5D;QAEA,IAAI,CAACF,MAAM,IAAIV,OAAO,CAACI,YAAY,IAAI,OAAOG,KAAK,KAAK,QAAQ,EAAE;UAChEG,MAAM,GAAG,CAACV,OAAO,CAACI,YAAY,CAACE,IAAI,EAAEC,KAAK,EAAEE,MAAM,CAAC;QACrD;QAEA,IAAIC,MAAM,IAAI,OAAOH,KAAK,KAAK,QAAQ,EAAE;UACvC,IAAIP,OAAO,CAACa,gBAAgB,IAAIP,IAAI,CAACQ,QAAQ,EAAE;YAC7CL,MAAM,CAACK,QAAQ,CAACC,MAAM,CAACR,KAAK,EAAE,CAAC,EAAE,GAAGD,IAAI,CAACQ,QAAQ,CAAC;UACpD,CAAC,MAAM;YACLL,MAAM,CAACK,QAAQ,CAACC,MAAM,CAACR,KAAK,EAAE,CAAC,CAAC;UAClC;UAEA,OAAOA,KAAK;QACd;QAEA,OAAOS,SAAS;MAClB,CAAC,CAAC;IACJ,CAAC;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}